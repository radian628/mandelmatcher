{
  "version": 3,
  "sources": ["../src/gl-lib.ts", "../src/levels.ts", "../src/sound.ts", "../src/index.ts"],
  "sourcesContent": ["export function createShader(\r\n  gl: WebGL2RenderingContext,\r\n  source: string,\r\n  type: GLenum\r\n): WebGLShader | undefined {\r\n  // see if we can create the shader\r\n  const shader = gl.createShader(type);\r\n  if (!shader) return undefined;\r\n\r\n  // see if we can compile it\r\n  gl.shaderSource(shader, source);\r\n  gl.compileShader(shader);\r\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n    console.log(gl.getShaderInfoLog(shader));\r\n    return;\r\n  }\r\n\r\n  // return the program\r\n  return shader;\r\n}\r\n\r\nexport type CreateProgramError =\r\n  | {\r\n      type: \"failed-to-create-program\";\r\n    }\r\n  | {\r\n      type: \"failed-to-link-program\";\r\n      infoLog?: string;\r\n    };\r\n\r\nexport function createProgram(\r\n  gl: WebGL2RenderingContext,\r\n  vertex: WebGLShader,\r\n  fragment: WebGLShader\r\n): WebGLProgram | undefined {\r\n  // can we make the program?\r\n  const prog = gl.createProgram();\r\n  if (!prog) return undefined;\r\n\r\n  // can we attach the shaders and link it?\r\n  gl.attachShader(prog, vertex);\r\n  gl.attachShader(prog, fragment);\r\n  gl.linkProgram(prog);\r\n  if (!gl.getProgramParameter(prog, gl.LINK_STATUS)) {\r\n    gl.getProgramInfoLog(prog);\r\n    return undefined;\r\n  }\r\n\r\n  // return the program\r\n  return prog;\r\n}\r\n\r\nexport function createProgramFromShaderSources(\r\n  gl: WebGL2RenderingContext,\r\n  vertex: string,\r\n  fragment: string\r\n): WebGLProgram | undefined {\r\n  // create shaders from sources\r\n  const maybeVShader = createShader(gl, vertex, gl.VERTEX_SHADER);\r\n  const maybeFShader = createShader(gl, fragment, gl.FRAGMENT_SHADER);\r\n  if (!maybeVShader || !maybeFShader) return undefined;\r\n\r\n  // compile the program and return the result of that\r\n  return createProgram(gl, maybeVShader, maybeFShader);\r\n}\r\n\r\nexport type UniformDimensionality = \"1\" | \"2\" | \"3\" | \"4\";\r\nexport type UDimToArray<N extends UniformDimensionality, T> = N extends \"1\"\r\n  ? [T]\r\n  : N extends \"2\"\r\n  ? [T, T]\r\n  : N extends \"3\"\r\n  ? [T, T, T]\r\n  : [T, T, T, T];\r\n\r\nexport function makeUniformSetter(\r\n  gl: WebGL2RenderingContext,\r\n  prog: WebGLProgram\r\n) {\r\n  return <N extends UniformDimensionality>(\r\n    type: `${N}${\"f\" | \"i\" | \"ui\"}`,\r\n    name: string,\r\n    ...data: UDimToArray<N, number>\r\n  ) => {\r\n    gl[\"uniform\" + type](gl.getUniformLocation(prog, name), ...data);\r\n  };\r\n}\r\n\r\nexport async function loadImage(link: string): Promise<HTMLImageElement> {\r\n  return new Promise((resolve, reject) => {\r\n    const image = new Image();\r\n    image.onload = () => {\r\n      resolve(image);\r\n    };\r\n    image.src = link;\r\n  });\r\n}\r\n\r\nexport const FULLSCREEN_QUAD = new Float32Array([\r\n  -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, -1, -1,\r\n]);\r\n", "export const LEVELS = [\r\n  {\r\n    bottomLeft: {\r\n      x: -1.567237808935025,\r\n      y: -0.5634295039781368,\r\n    },\r\n    topRight: {\r\n      x: -0.4635249284236504,\r\n      y: 0.540283376533235,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.2,\r\n      y: -0.6,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: -0.7167493837524495,\r\n      y: 0.40506130306021365,\r\n    },\r\n    topRight: {\r\n      x: -0.3224314822733099,\r\n      y: 0.7993792045393522,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.2,\r\n      y: -0.6,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: 0.21373789725275888,\r\n      y: -0.08591326357228113,\r\n    },\r\n    topRight: {\r\n      x: 0.37552217091227036,\r\n      y: 0.0758710100872297,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: -0.3436385255648038,\r\n      y: -0.004282655246252709,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: -1.8968619993813423,\r\n      y: -0.13524676606496094,\r\n    },\r\n    topRight: {\r\n      x: -1.6253906671956728,\r\n      y: 0.1362245661207094,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: -0.3436385255648038,\r\n      y: -0.004282655246252709,\r\n    },\r\n  },\r\n  // add some more levels here between zoom levels 4 and 14\r\n  {\r\n    bottomLeft: {\r\n      x: 0.047514078338310714,\r\n      y: 0.5813964071711524,\r\n    },\r\n    topRight: {\r\n      x: 0.22281609140514436,\r\n      y: 0.7566984202379872,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.2,\r\n      y: -0.6,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: -1.5308643358316392,\r\n      y: -0.25933954441185697,\r\n    },\r\n    topRight: {\r\n      x: -1.320939534620107,\r\n      y: -0.049414743200325115,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.2,\r\n      y: -0.6,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: 0.3267041411059802,\r\n      y: 0.5797128874572623,\r\n    },\r\n    topRight: {\r\n      x: 0.4374003189766384,\r\n      y: 0.6904090653279197,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.2,\r\n      y: -0.6,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: -0.7312708839988104,\r\n      y: -0.509526368359592,\r\n    },\r\n    topRight: {\r\n      x: -0.6430550187428722,\r\n      y: -0.42131050310364987,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: -0.16057585825027687,\r\n      y: 0.20342612419700212,\r\n    },\r\n  },\r\n\r\n  // harder stuff\r\n  {\r\n    bottomLeft: {\r\n      x: -0.29217933711418237,\r\n      y: 0.8075503227659846,\r\n    },\r\n    topRight: {\r\n      x: -0.21715530646090014,\r\n      y: 0.8825743534192677,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.2,\r\n      y: -0.6,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: -0.6091914677639261,\r\n      y: -0.6826542138250117,\r\n    },\r\n    topRight: {\r\n      x: -0.5381912220238967,\r\n      y: -0.6116539680935971,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: -0.20332936979785965,\r\n      y: -0.31049250535331907,\r\n    },\r\n  },\r\n\r\n  {\r\n    bottomLeft: {\r\n      x: 0.3269114127814559,\r\n      y: 0.6148588972516744,\r\n    },\r\n    topRight: {\r\n      x: 0.38587313000551615,\r\n      y: 0.6738206144757348,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.2,\r\n      y: -0.6,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: -0.761522302414126,\r\n      y: 0.18329183413934488,\r\n    },\r\n    topRight: {\r\n      x: -0.7113791956054126,\r\n      y: 0.23343494094805375,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.2,\r\n      y: -0.6,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: -0.9479219885015935,\r\n      y: -0.3097326614583672,\r\n    },\r\n    topRight: {\r\n      x: -0.9108836237290072,\r\n      y: -0.27269429668578415,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.2,\r\n      y: -0.6,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: 0.1614078112917602,\r\n      y: -0.6094354894280556,\r\n    },\r\n    topRight: {\r\n      x: 0.20347496263492398,\r\n      y: -0.5673683380848925,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.2,\r\n      y: -0.6,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: -0.8375141320941696,\r\n      y: 0.22917754201213877,\r\n    },\r\n    topRight: {\r\n      x: -0.8249876431805833,\r\n      y: 0.24170403092572515,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.34883720930232553,\r\n      y: -0.25267665952890794,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: -1.767772771788433,\r\n      y: 0.011721642294182776,\r\n    },\r\n    topRight: {\r\n      x: -1.7582273846389225,\r\n      y: 0.02126702944369282,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: 0.2,\r\n      y: -0.6,\r\n    },\r\n  },\r\n  {\r\n    bottomLeft: {\r\n      x: -0.20039358578346736,\r\n      y: 1.0982350414761437,\r\n    },\r\n    topRight: {\r\n      x: -0.1963110863991057,\r\n      y: 1.102317540860506,\r\n    },\r\n    fractalIndex: 1,\r\n    params: {\r\n      x: -0.01218161683277963,\r\n      y: 0.008565310492505418,\r\n    },\r\n  },\r\n\r\n  // {\r\n  //   bottomLeft: {\r\n  //     x: -0.302373124875951,\r\n  //     y: -1.0315392869672173,\r\n  //   },\r\n  //   topRight: {\r\n  //     x: 0.4567576185848055,\r\n  //     y: -0.2724085435064655,\r\n  //   },\r\n  //   fractalIndex: 1,\r\n  //   params: {\r\n  //     x: 0.2,\r\n  //     y: -0.6,\r\n  //   },\r\n  // },\r\n  // {\r\n  //   bottomLeft: {\r\n  //     x: -1.0808099909819329,\r\n  //     y: -0.5385742813352624,\r\n  //   },\r\n  //   topRight: {\r\n  //     x: -0.684866200062996,\r\n  //     y: -0.14263049041632594,\r\n  //   },\r\n  //   fractalIndex: 1,\r\n  //   params: {\r\n  //     x: 0.2,\r\n  //     y: -0.6,\r\n  //   },\r\n  // },\r\n  // {\r\n  //   bottomLeft: {\r\n  //     x: -1.2629528160529173,\r\n  //     y: 0.3745317849422254,\r\n  //   },\r\n  //   topRight: {\r\n  //     x: -1.2485148474591334,\r\n  //     y: 0.38896975353601,\r\n  //   },\r\n  //   fractalIndex: 1,\r\n  //   params: {\r\n  //     x: 0.2,\r\n  //     y: -0.6,\r\n  //   },\r\n  // },\r\n  // {\r\n  //   bottomLeft: {\r\n  //     x: 0.34708677390673875,\r\n  //     y: 0.5729895209222156,\r\n  //   },\r\n  //   topRight: {\r\n  //     x: 0.38386464665796144,\r\n  //     y: 0.6097673936734397,\r\n  //   },\r\n  //   fractalIndex: 1,\r\n  //   params: {\r\n  //     x: 0.2,\r\n  //     y: -0.6,\r\n  //   },\r\n  // },\r\n  // {\r\n  //   bottomLeft: {\r\n  //     x: -1.8667391911660034,\r\n  //     y: -0.0056043732637976965,\r\n  //   },\r\n  //   topRight: {\r\n  //     x: -1.8557129943785577,\r\n  //     y: 0.005421823523647911,\r\n  //   },\r\n  //   fractalIndex: 1,\r\n  //   params: {\r\n  //     x: 0.2,\r\n  //     y: -0.6,\r\n  //   },\r\n  // },\r\n];\r\n\r\nexport type Level = (typeof LEVELS)[number];\r\n", "const ac = new AudioContext();\r\n\r\nconst soundCache = new Map<string, AudioBuffer>();\r\n\r\nexport async function fetchAudio(url: string) {\r\n  let audio = soundCache.get(url);\r\n  if (!audio) {\r\n    const file = await fetch(url);\r\n    const buf = await file.arrayBuffer();\r\n    audio = await ac.decodeAudioData(buf);\r\n  }\r\n  return audio;\r\n}\r\n\r\nexport async function createSoundWithPitchAndGain(\r\n  audio: AudioBuffer,\r\n  pitch?: number,\r\n  gain?: number\r\n) {\r\n  const track = new AudioBufferSourceNode(ac, {\r\n    buffer: audio,\r\n    playbackRate: pitch,\r\n  });\r\n  const gainNode = new GainNode(ac, {\r\n    gain: gain ?? 1,\r\n  });\r\n  track.connect(gainNode);\r\n  gainNode.connect(ac.destination);\r\n  return track;\r\n}\r\n\r\nexport async function playSound(url: string, pitch?: number, gain?: number) {\r\n  const track = await createSoundWithPitchAndGain(\r\n    await fetchAudio(url),\r\n    pitch,\r\n    gain\r\n  );\r\n  track.start();\r\n  return track;\r\n}\r\n\r\nexport async function loopSound(url: string, pitch?: number, gain?: number) {\r\n  const audio = await fetchAudio(url);\r\n  const track = await createSoundWithPitchAndGain(audio, pitch, gain);\r\n  track.loop = true;\r\n  track.start();\r\n  return track;\r\n}\r\n\r\nexport interface MutuallyExlusiveSound {\r\n  play(t: string, loop: boolean): Promise<void>;\r\n  stop(): void;\r\n}\r\n\r\nexport function mutuallyExclusiveSound(): MutuallyExlusiveSound {\r\n  let track: AudioBufferSourceNode;\r\n  return {\r\n    async play(url: string, loop: boolean) {\r\n      track?.stop();\r\n      track = loop ? await loopSound(url) : await playSound(url);\r\n    },\r\n    stop() {\r\n      track?.stop();\r\n    },\r\n  };\r\n}\r\n", "import {\r\n  createProgramFromShaderSources,\r\n  FULLSCREEN_QUAD,\r\n  makeUniformSetter,\r\n} from \"./gl-lib\";\r\nimport { Level, LEVELS } from \"./levels\";\r\nimport { loopSound, playSound } from \"./sound\";\r\n\r\nconst canvas: HTMLCanvasElement = document.getElementById(\r\n  \"canvas\"\r\n)! as HTMLCanvasElement;\r\n\r\nfunction resize() {\r\n  canvas.width = window.innerWidth;\r\n  canvas.height = window.innerHeight;\r\n  gl.viewport(0, 0, canvas.width, canvas.height);\r\n}\r\n\r\nwindow.addEventListener(\"resize\", resize);\r\n\r\nconst gl = canvas.getContext(\"webgl2\")!;\r\n\r\nresize();\r\n\r\nexport async function setupGL() {\r\n  gl.viewport(0, 0, canvas.width, canvas.height);\r\n\r\n  const vertexSource = await (await fetch(\"./fractal.vert\")).text();\r\n  const fragmentSource = await (await fetch(\"./fractal.frag\")).text();\r\n  const prog = createProgramFromShaderSources(gl, vertexSource, fragmentSource);\r\n  if (!prog) {\r\n    return;\r\n  }\r\n\r\n  const set = makeUniformSetter(gl, prog);\r\n\r\n  // setup vao\r\n  const vao = gl.createVertexArray();\r\n  gl.bindVertexArray(vao);\r\n\r\n  // setup quad buffer\r\n  const fullscreenQuadBuffer = gl.createBuffer();\r\n  gl.bindBuffer(gl.ARRAY_BUFFER, fullscreenQuadBuffer);\r\n  gl.bufferData(gl.ARRAY_BUFFER, FULLSCREEN_QUAD, gl.STATIC_DRAW);\r\n\r\n  gl.useProgram(prog);\r\n\r\n  // per-vertex attribs\r\n  const vertexPositionLocation = gl.getAttribLocation(prog, \"vertex_position\");\r\n  gl.enableVertexAttribArray(vertexPositionLocation);\r\n  gl.vertexAttribPointer(vertexPositionLocation, 2, gl.FLOAT, false, 8, 0);\r\n\r\n  return set;\r\n}\r\n\r\nlet mousePos = { x: 0, y: 0 };\r\nlet mouseButtonsPressed = new Map<number, boolean>();\r\n\r\ncanvas.addEventListener(\"mousemove\", (e) => {\r\n  mousePos = { x: e.clientX, y: e.clientY };\r\n});\r\n\r\nlet isMusicPlayingYet = false;\r\n\r\ncanvas.addEventListener(\"mousedown\", (e) => {\r\n  if (!isMusicPlayingYet) {\r\n    isMusicPlayingYet = true;\r\n    loopSound(\"background-music.ogg\", 0.5, 0.04);\r\n  }\r\n  mouseButtonsPressed.set(e.button, true);\r\n});\r\n\r\ncanvas.addEventListener(\"mouseup\", (e) => {\r\n  for (const btn of mouseButtonsPressed.keys())\r\n    mouseButtonsPressed.set(btn, false);\r\n});\r\n\r\nlet fine = false;\r\n\r\ncanvas.addEventListener(\"keydown\", (e) => {\r\n  if (e.key.toLowerCase() === \"f\") fine = true;\r\n});\r\n\r\ncanvas.addEventListener(\"keyup\", (e) => {\r\n  if (e.key.toLowerCase() === \"f\") fine = false;\r\n});\r\n\r\ncanvas.addEventListener(\"contextmenu\", (e) => {\r\n  e.preventDefault();\r\n  return false;\r\n});\r\n\r\nconst touches = new Map<\r\n  number,\r\n  {\r\n    x: number;\r\n    y: number;\r\n    dx: number;\r\n    dy: number;\r\n  }\r\n>();\r\n\r\ncanvas.addEventListener(\"touchstart\", (e) => {\r\n  for (const t of e.touches) {\r\n    touches.set(t.identifier, { x: t.clientX, y: t.clientY, dx: 0, dy: 0 });\r\n  }\r\n});\r\n\r\ncanvas.addEventListener(\"touchmove\", (e) => {\r\n  for (const t of e.touches) {\r\n    const oldTouch = touches.get(t.identifier);\r\n    if (oldTouch) {\r\n      touches.set(t.identifier, {\r\n        x: t.clientX,\r\n        y: t.clientY,\r\n        dx: t.clientX - oldTouch.x + oldTouch.dx,\r\n        dy: t.clientY - oldTouch.y + oldTouch.dy,\r\n      });\r\n    } else {\r\n      touches.set(t.identifier, { x: t.clientX, y: t.clientY, dx: 0, dy: 0 });\r\n    }\r\n  }\r\n});\r\n\r\ncanvas.addEventListener(\"touchend\", (e) => {\r\n  for (const t of e.changedTouches) {\r\n    touches.delete(t.identifier);\r\n  }\r\n});\r\n\r\ncanvas.addEventListener(\"touchcancel\", (e) => {\r\n  for (const t of touches.keys()) {\r\n    touches.delete(t);\r\n  }\r\n});\r\n\r\nenum ScrollType {\r\n  Negative,\r\n  Positive,\r\n  None,\r\n}\r\n\r\nlet lastScrollPositive = ScrollType.None;\r\n\r\nlet scrollUntilNoise = 0;\r\n\r\ncanvas.addEventListener(\"wheel\", (e) => {\r\n  lastScrollPositive = e.deltaY > 0 ? ScrollType.Positive : ScrollType.Negative;\r\n});\r\n\r\nlet userBottomLeft = { x: -2, y: -2 };\r\nlet userTopRight = { x: 2, y: 2 };\r\nlet userParams = { x: 0.2, y: -0.6 };\r\nlet userTargetParams = { x: 0.2, y: -0.6 };\r\nlet scrollVel = 0;\r\nlet fractalIndex = 1;\r\nlet levelIndex = 0;\r\n\r\nlet targetBottomLeft = { x: 0, y: 0 };\r\nlet targetTopRight = { x: 0, y: 0 };\r\nlet targetParams = { x: 0, y: 0 };\r\n\r\nlet winAnimationFrame = 0;\r\nlet winAnimationRunning = false;\r\n\r\nfunction lerp(a, b, x) {\r\n  return b * x + a * (1 - x);\r\n}\r\n\r\nfunction smoothstep(x) {\r\n  return 3 * x * x - 2 * x * x * x;\r\n}\r\n\r\nfunction smoothlerp(a, b, x) {\r\n  return lerp(a, b, smoothstep(x));\r\n}\r\n\r\nfunction printParams() {\r\n  console.log(Math.round(1 / (userTopRight.x - userBottomLeft.x)));\r\n  console.log({\r\n    bottomLeft: { ...userBottomLeft },\r\n    topRight: { ...userTopRight },\r\n    fractalIndex,\r\n    params: { ...userTargetParams },\r\n  });\r\n}\r\n\r\nfunction loadLevel(level: Level) {\r\n  targetBottomLeft = { ...level.bottomLeft };\r\n  targetTopRight = { ...level.topRight };\r\n  targetParams = { ...level.params };\r\n}\r\n\r\nloadLevel(LEVELS[0]);\r\n\r\n// @ts-expect-error this property doesn't exist\r\nwindow.printParams = printParams;\r\n// @ts-expect-error nor does this one\r\nwindow.printZoomLevels = () => {\r\n  return LEVELS.map((l) => Math.round(1 / (l.topRight.x - l.bottomLeft.x)));\r\n};\r\n\r\nfunction draw(\r\n  w: number,\r\n  h: number,\r\n  set: Exclude<Awaited<ReturnType<typeof setupGL>>, undefined>\r\n) {\r\n  set(\"2f\", \"target_params\", targetParams.x, targetParams.y);\r\n  set(\"2f\", \"target_bottom_left\", targetBottomLeft.x, targetBottomLeft.y);\r\n  set(\"2f\", \"target_top_right\", targetTopRight.x, targetTopRight.y);\r\n  set(\"2f\", \"user_params\", userParams.x, userParams.y);\r\n  set(\"2f\", \"user_bottom_left\", userBottomLeft.x, userBottomLeft.y);\r\n  set(\"2f\", \"user_top_right\", userTopRight.x, userTopRight.y);\r\n  set(\"1i\", \"fractal\", fractalIndex);\r\n  set(\r\n    \"1f\",\r\n    \"iterations\",\r\n    Math.max(\r\n      1,\r\n      Math.ceil(\r\n        smoothlerp(\r\n          0,\r\n          64,\r\n          Math.abs(Math.max(0, Math.abs((winAnimationFrame - 120) / 60) - 1))\r\n        )\r\n      )\r\n    )\r\n  );\r\n  set(\"2f\", \"resolution\", w, h);\r\n  set(\"1f\", \"hue_offset\", hueOffset);\r\n  // set(\"1f\", \"threshold\", Math.sin(animationTime * 0.05) * 1096 + 1100);\r\n  set(\"1f\", \"threshold\", 4.0);\r\n\r\n  gl.drawArrays(gl.TRIANGLES, 0, 6);\r\n}\r\n\r\nconst matchFound = document.getElementById(\"match-found\")!;\r\nconst levelsComplete = document.getElementById(\"levels-complete\")!;\r\n\r\nconst info = document.getElementById(\"info\")!;\r\nconst debugBox = document.getElementById(\"debug\")!;\r\n\r\nconst startButton = document.getElementById(\"start\")!;\r\nstartButton.addEventListener(\"click\", (e) => {\r\n  info.style.display = \"none\";\r\n});\r\n\r\nlet hueOffset = -0.1;\r\n\r\nlet animationTime = 0;\r\n\r\n(async () => {\r\n  const set = (await setupGL())!;\r\n\r\n  let stopLooping = false;\r\n\r\n  // @ts-expect-error and this one too lol\r\n  window.printAllLevels = () => {\r\n    stopLooping = true;\r\n    const gridSize = Math.ceil(Math.sqrt(LEVELS.length));\r\n\r\n    for (let i = 0; i < LEVELS.length; i++) {\r\n      const lvl = LEVELS[i];\r\n\r\n      const gridX = i % gridSize;\r\n      const gridY = gridSize - Math.floor(i / gridSize) - 1;\r\n      const gridYFlipped = Math.floor(i / gridSize);\r\n      const gridWidth = Math.floor(window.innerWidth / gridSize);\r\n      const gridHeight = Math.floor(window.innerHeight / gridSize);\r\n      gl.viewport(gridX * gridWidth, gridY * gridHeight, gridWidth, gridHeight);\r\n      loadLevel(lvl);\r\n      userBottomLeft = { x: 100, y: 100 };\r\n      userTopRight = { x: 100, y: 100 };\r\n      draw(gridWidth, gridHeight, set);\r\n      const label = document.createElement(\"div\");\r\n      label.innerHTML = `zoom: ${Math.round(\r\n        1 / (targetTopRight.x - targetBottomLeft.x)\r\n      )}`;\r\n      label.style.position = \"absolute\";\r\n      label.style.color = \"white\";\r\n      label.style.padding = \"10px\";\r\n      label.style.backgroundColor = \"black\";\r\n      label.style.fontFamily = \"sans-serif\";\r\n      label.style.top = `${(gridYFlipped + 0.1) * gridHeight}px`;\r\n      label.style.left = `${(gridX + 0.1) * gridWidth}px`;\r\n      document.body.appendChild(label);\r\n    }\r\n  };\r\n\r\n  let prevMousePos = { x: 0, y: 0 };\r\n\r\n  function loop() {\r\n    animationTime++;\r\n    hueOffset = hueOffset + 0.0001;\r\n    if (stopLooping) return;\r\n    const winDist = (userTopRight.x - userBottomLeft.x) / 12;\r\n    if (\r\n      Math.hypot(\r\n        targetTopRight.x - userTopRight.x,\r\n        targetTopRight.y - userTopRight.y\r\n      ) < winDist &&\r\n      Math.hypot(\r\n        targetBottomLeft.x - userBottomLeft.x,\r\n        targetTopRight.y - userTopRight.y\r\n      ) < winDist &&\r\n      !winAnimationRunning\r\n    ) {\r\n      winAnimationRunning = true;\r\n      playSound(\"level-complete.flac\", 1);\r\n      levelsComplete.innerText =\r\n        `${levelIndex + 1} / ${LEVELS.length}` +\r\n        (levelIndex == LEVELS.length - 1 ? \" | YOU WIN!\" : \"\");\r\n    }\r\n\r\n    if (winAnimationRunning) {\r\n      winAnimationFrame++;\r\n    }\r\n\r\n    if (winAnimationFrame > 0 && winAnimationFrame < 120) {\r\n      userBottomLeft = {\r\n        x: lerp(userBottomLeft.x, targetBottomLeft.x, 0.1),\r\n        y: lerp(userBottomLeft.y, targetBottomLeft.y, 0.1),\r\n      };\r\n      userTopRight = {\r\n        x: lerp(userTopRight.x, targetTopRight.x, 0.1),\r\n        y: lerp(userTopRight.y, targetTopRight.y, 0.1),\r\n      };\r\n    }\r\n\r\n    matchFound.style.opacity = smoothstep(\r\n      1 - Math.min(Math.max(Math.abs(winAnimationFrame - 120) / 60 - 1, 0), 1)\r\n    ).toString();\r\n\r\n    if (winAnimationFrame == 120) {\r\n      levelIndex++;\r\n      loadLevel(LEVELS[levelIndex]);\r\n      userBottomLeft = { x: -2, y: -2 };\r\n      userTopRight = { x: 2, y: 2 };\r\n      userParams = { x: 0.2, y: -0.6 };\r\n      userTargetParams = { x: 0.2, y: -0.6 };\r\n    }\r\n\r\n    if (winAnimationFrame >= 240) {\r\n      winAnimationRunning = false;\r\n      winAnimationFrame = 0;\r\n    }\r\n\r\n    const touchValues = [...touches.values()];\r\n\r\n    if (touchValues.length === 1) {\r\n      let deltaX =\r\n        -(touchValues[0].dx / window.innerHeight) *\r\n        (userTopRight.y - userBottomLeft.y);\r\n      let deltaY =\r\n        (touchValues[0].dy / window.innerHeight) *\r\n        (userTopRight.y - userBottomLeft.y);\r\n\r\n      userBottomLeft.x += deltaX;\r\n      userBottomLeft.y += deltaY;\r\n      userTopRight.x += deltaX;\r\n      userTopRight.y += deltaY;\r\n\r\n      touchValues[0].dx = 0;\r\n      touchValues[0].dy = 0;\r\n    } else if (touchValues.length === 2) {\r\n      let deltaX =\r\n        -((touchValues[0].dx + touchValues[1].dx) / 2 / window.innerHeight) *\r\n        (userTopRight.y - userBottomLeft.y);\r\n      let deltaY =\r\n        ((touchValues[0].dy + touchValues[1].dy) / 2 / window.innerHeight) *\r\n        (userTopRight.y - userBottomLeft.y);\r\n\r\n      userBottomLeft.x += deltaX;\r\n      userBottomLeft.y += deltaY;\r\n      userTopRight.x += deltaX;\r\n      userTopRight.y += deltaY;\r\n\r\n      let zoomAmount =\r\n        Math.hypot(\r\n          touchValues[0].x - touchValues[1].x,\r\n          touchValues[0].y - touchValues[1].y\r\n        ) /\r\n          Math.hypot(\r\n            touchValues[0].x -\r\n              touchValues[0].dx -\r\n              touchValues[1].x +\r\n              touchValues[1].dx,\r\n            touchValues[0].y -\r\n              touchValues[0].dy -\r\n              touchValues[1].y +\r\n              touchValues[1].dy\r\n          ) -\r\n        1;\r\n\r\n      zoomAmount = Math.min(Math.max(zoomAmount, -0.1), 0.1);\r\n\r\n      let originX = lerp(userBottomLeft.x, userTopRight.x, 0.5);\r\n      let originY = lerp(userBottomLeft.y, userTopRight.y, 0.5);\r\n\r\n      userBottomLeft.x = lerp(userBottomLeft.x, originX, zoomAmount);\r\n      userBottomLeft.y = lerp(userBottomLeft.y, originY, zoomAmount);\r\n\r\n      userTopRight.x = lerp(userTopRight.x, originX, zoomAmount);\r\n      userTopRight.y = lerp(userTopRight.y, originY, zoomAmount);\r\n\r\n      debugBox.innerText = `zoom: ${zoomAmount}, touchvalues: ${JSON.stringify(\r\n        touchValues\r\n      )}`;\r\n\r\n      touchValues[0].dx = 0;\r\n      touchValues[0].dy = 0;\r\n      touchValues[1].dx = 0;\r\n      touchValues[1].dy = 0;\r\n    }\r\n\r\n    if (mouseButtonsPressed.get(0)) {\r\n      let deltaX =\r\n        ((prevMousePos.x - mousePos.x) / window.innerHeight) *\r\n        (userTopRight.y - userBottomLeft.y);\r\n      let deltaY =\r\n        ((mousePos.y - prevMousePos.y) / window.innerHeight) *\r\n        (userTopRight.y - userBottomLeft.y);\r\n\r\n      userBottomLeft.x += deltaX;\r\n      userBottomLeft.y += deltaY;\r\n      userTopRight.x += deltaX;\r\n      userTopRight.y += deltaY;\r\n    }\r\n\r\n    if (mouseButtonsPressed.get(2)) {\r\n      userTargetParams.x = (mousePos.x / window.innerWidth) * 2 - 1;\r\n      userTargetParams.y = (mousePos.y / window.innerHeight) * 2 - 1;\r\n    }\r\n    userParams = {\r\n      x: lerp(userParams.x, userTargetParams.x, 0.3),\r\n      y: lerp(userParams.y, userTargetParams.y, 0.3),\r\n    };\r\n\r\n    if (lastScrollPositive === ScrollType.Positive) {\r\n      scrollVel += fine ? 0.005 : 0.03;\r\n    } else if (lastScrollPositive === ScrollType.Negative) {\r\n      scrollVel -= fine ? 0.005 : 0.03;\r\n    }\r\n    scrollVel *= 0.75;\r\n    lastScrollPositive = ScrollType.None;\r\n\r\n    let factor = scrollVel;\r\n    if (userTopRight.x - userBottomLeft.x > 10) {\r\n      factor = Math.max(factor, 0);\r\n    }\r\n    if (userTopRight.x - userBottomLeft.x < 0.0000001) {\r\n      factor = Math.min(factor, 0);\r\n    }\r\n\r\n    if (scrollUntilNoise < 0) {\r\n      scrollUntilNoise = 1;\r\n      playSound(\r\n        \"scroll-noise.flac\",\r\n        0.8 + 0.06 * Math.log2(1 / (userTopRight.x - userBottomLeft.x)),\r\n        0.7\r\n      );\r\n    }\r\n    scrollUntilNoise -= Math.abs(factor) * 3;\r\n\r\n    let originX = lerp(userBottomLeft.x, userTopRight.x, 0.5);\r\n    let originY = lerp(userBottomLeft.y, userTopRight.y, 0.5);\r\n\r\n    userBottomLeft.x = lerp(userBottomLeft.x, originX, factor);\r\n    userBottomLeft.y = lerp(userBottomLeft.y, originY, factor);\r\n\r\n    userTopRight.x = lerp(userTopRight.x, originX, factor);\r\n    userTopRight.y = lerp(userTopRight.y, originY, factor);\r\n\r\n    prevMousePos = mousePos;\r\n\r\n    draw(window.innerWidth, window.innerHeight, set);\r\n\r\n    requestAnimationFrame(loop);\r\n  }\r\n\r\n  loop();\r\n})();\r\n"],
  "mappings": "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",
  "names": ["gl", "originX", "originY"]
}
